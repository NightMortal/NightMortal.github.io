<!DOCTYPE html>
<html>
<head>
    <title>Your Privacy Information</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fingerprintjs2/1.8.6/fingerprint2.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            background-color: #232323;
            color: #f3f3f3;
            font-family: Arial, sans-serif;
        }
        h1, button {
            color: #ff6347;
        }
        .content {
            display: none;
            width: 90%; /* Reduced the width */
            border: 1px solid #f3f3f3;
            padding: 10px;
            margin: 5px 0;
            word-wrap: break-word; /* Add this line */
        }
        button {
            width: 90%; /* Reduced the width */
            border: none; /* Removed the border */
            background-color: #232323;
            color: #f3f3f3;
            padding: 10px;
            margin: 5px 0;
            text-align: left;
            font-size: 1.5em;
            cursor: pointer;
        }
        button:after {
            content: ' ▼';
        }
        button[aria-expanded="true"]:after {
            content: ' ▲';
        }
    </style>
</head>
<body>
    <h1>Your Privacy Information</h1>
    <button onclick="toggleContent('intro')" aria-expanded="false">Introduction</button>
    <div id="intro" class="content">The purpose of this website is to inform and educate users who would otherwise be unaware of a digital risk that affects all internet users - Digital Fingerprinting. As discussed in each section, this website aims to directly address the methods, risks, companies, lawsuits, policies, and mitigation methods used to protect yourself on the internet.</div>
    <button onclick="toggleContent('definition')" aria-expanded="false">What is Digital Fingerprinting?</button>
    <div id="definition" class="content">Digital Fingerprinting is a technique used to identify unique devices or users based on information that both their web browser and device provide. This information can include details about the device’s hardware, software, and user settings. When combined, these details are able to form a comprehensive profile of a user or a “fingerprint” that uniquely belongs to a user and allows entities to track and identify users across different sessions and even different websites.</div>
    <button onclick="toggleContent('workings')" aria-expanded="false">How Does It Work?</button>
    <div id="workings" class="content">When you visit a website, your device and browser automatically share certain information with the site. The information included can contain: Device Information: This includes details about your device’s hardware, such as the make and model, CPU, and screen resolution. Browser Information: This includes the type and version of your browser, your language settings, and the list of installed plugins. Network Information: This includes your IP address, which can reveal your approximate geographical location, including city, state, and as close as your general zip code. In addition to these, websites often employ advanced fingerprinting techniques such as: Canvas Fingerprinting: This technique involves drawing a hidden image and using the slight differences in how each device renders that image to create a unique identifier. WebGL Fingerprinting: This technique is similar to canvas fingerprinting but uses the WebGL API to render 3D graphics, which provides a more in-depth comparison, especially where Canvas Fingerprinting fails, and vice versa. AudioContext Fingerprinting: This technique uses the AudioContext API to measure how your device processes sound. Unlike cookies, which store information on your device, digital fingerprinting works by analyzing the data your device automatically shares between websites. This makes it a more persistent, elusive, and overall intrusive form of tracking. Even if you clear your cookies (temporary data storing user information) or browse in private mode, websites can still track you using your digital fingerprint.</div>
    <button onclick="toggleContent('importance')" aria-expanded="false">Why Should You Care?</button>
    <div id="importance" class="content">The implications of digital fingerprinting are far-reaching and alarming, Although it allows businesses to provide personalized experiences and targeted advertising, which can potentially be beneficial for users, it raises serious security concerns. Your digital fingerprint can reveal a large amount of information about you, from your browsing habits and interests to your location and device specifications. One relevant research study conducted by Princeton University found that during a measurement of the top 1 million sites, their tool, designed to visit and collect data about the tracking techniques used by those sites, made over 90 million requests, signifying the presence of trackers. This information collected by these trackers is then used to build detailed profiles or a “fingerprint” of users in conjunction with more traditional tracking techniques. On the extreme end, it was found that at least two of those first-party websites, being the website itself that you visit, had over 81,000 third parties present, being companies and trackers unrelated directly to the website itself with Google, Facebook, and Twitter also accounting for third-party entities present on more than 10% of the sites alone. Users are commonly either unaware of, never explicitly, or indirectly accept privacy policies used by many of these third-party aggregators. Privacy policies are designed to be long, convoluted, and use roundabout wording, causing these policies to be easily glanced over or disparaged, most from being able to receive or care about the full or specific context of what they agree to. Through digital fingerprinting, due to its innately intrusive nature, methods of disassociating yourself, such as clearing your cookies or using a private browsing mode, websites still retain the ability to track and uniquely identify you across websites. One experiment was able to collect 3,615 fingerprints from 1,903 users over a three-month period. The fingerprinting technique used was able to successfully identify 99.2% of users, even when they used more than one browser. These statistics underscore the widespread presence of digital fingerprinting and the significant privacy risks that affect virtually all internet users unanimously.</div>
    <div id="importanceChart"></div>
    <button onclick="toggleContent('protection')" aria-expanded="false">How to Protect Yourself</button>
    <div id="protection" class="content">Digital fingerprinting is innately complex, and while there are ways to mitigate its impact, it’s important to understand that, unfortunately, completely preventing it is nearly impossible for most average users, especially without going to extremes. You can potentially make your profile less unique by using common systems, software, and settings. Some extensions provide functionality to spoof these values to a certain degree and follows the concept of security through conformity. By changing these values to the most common denominator it allows users to become less uniquely identifiable between websites, browsers, and devices. Disabling JavaScript and Flash replacements, which are often used by websites to gather fingerprinting data, can make it more difficult for websites to gather fingerprinting data due to some form of trackers and data collection methods both utilizing JavaScript for their functionality, as well as using the values from JavaScript itself for data collection. Using different browsers can make it harder to track your activities, as well as some browsers are specifically designed to protect your privacy and reduce fingerprinting to some extent. Protective browsers can block scripts and trackers that collect fingerprinting data. Using a VPN can hide your IP address, which makes it harder for websites to track your location. Additionally, some VPNs offer custom DNS filtering, directly preventing the connection to the hostnames of trackers and non-critical domains of their affiliate companies as well. Finally, blocking cookies which are used to store temporary data from a user, including login states, clicked links, and other general information about how a user has interacted with a site. This may hamper some functionality of the site, but it can help further prevent fingerprinting by limiting the values methods, and trackers would be able to collect.</div>
    <div id="protectionChart"></div>
    <button onclick="toggleContent('info')" aria-expanded="true">Browser Information</button>
    <p id="info" class="content"></p>
    <div id="piechart"></div>
    <script>
        function toggleContent(id) {
            var content = document.getElementById(id);
            var button = document.querySelector('button[onclick="toggleContent(\'' + id + '\')"]');
            if (content.style.display === "none") {
                content.style.display = "block";
                button.setAttribute('aria-expanded', 'true');
            } else {
                content.style.display = "none";
                button.setAttribute('aria-expanded', 'false');
            }
        }

        // Add this script to open the 'info' content on page load
        window.onload = function() {
            toggleContent('info');
            var data = [{
                values: [19, 26, 55],
                labels: ['Residential', 'Non-Residential', 'Utility'],
                type: 'pie'
            }];

            var layout = {
                height: 400,
                width: 500
            };

            Plotly.newPlot('piechart', data, layout);

            var browser = (function() {
                var test = function(regexp) { return regexp.test(window.navigator.userAgent); }
                switch (true) {
                    case test(/edg/i): return "Microsoft Edge";
                    case test(/opr/i): return "Opera";
                    case test(/chrome/i): return "Google Chrome";
                    case test(/firefox/i): return "Firefox";
                    case test(/safari/i): return "Safari";
                    default: return "Other";
                }
            })();

            var info = document.getElementById('info');
            info.innerHTML = "Browser: " + browser + "<br>" +
                             "Platform: " + navigator.platform + "<br>" +
                             "Language: " + navigator.language + "<br>" +
                             "Cookies Enabled: " + (navigator.cookieEnabled ? "Yes" : "No") + "<br>" +
                             "User Agent: " + navigator.userAgent + "<br>" +
                             "Screen Width: " + screen.width + " pixels<br>" +
                             "Screen Height: " + screen.height + " pixels<br>" +
                             "Color Depth: " + screen.colorDepth + " bits<br>" +
                             "Pixel Depth: " + screen.pixelDepth + " bits<br>" +
                             "Online Status: " + (navigator.onLine ? "Online" : "Offline") + "<br>" +
                             "Referrer URL: " + (document.referrer || "None") + "<br>" +
                             "Window Width: " + window.innerWidth + " pixels<br>" +
                             "Window Height: " + window.innerHeight + " pixels<br>" +
                             "Local Time: " + new Date().toLocaleString() + "<br>" +
                             "Canvas Fingerprint: " + getCanvasFingerprint() + "<br>" +
                             "WebGL Fingerprint: " + getWebGLFingerprint() + "<br>" +
                             "Audio Fingerprint: " + getAudioFingerprint();

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    info.innerHTML += "<br>Latitude: " + position.coords.latitude +
                                      "<br>Longitude: " + position.coords.longitude;
                    fetch('http://api.geonames.org/findNearbyPlaceNameJSON?lat=' + position.coords.latitude + '&lng=' + position.coords.longitude + '&username=NightMortal')
                        .then(response => response.json())
                        .then(data => {
                            info.innerHTML += "<br>City: " + data.geonames[0].name +
                                              "<br>State: " + data.geonames[0].adminName1;
                        });
                });
            } else {
                info.innerHTML += "<br>Geolocation is not supported by this browser.";
            }

            // Set a cookie
            document.cookie = "username=John Doe";

            // Use session storage
            sessionStorage.setItem("lastname", "Smith");

            // Use local storage
            localStorage.setItem("email", "john@example.com");

            // Use FingerprintJS library
            new Fingerprint2().get(function(result, components){
                info.innerHTML += "<br>FingerprintJS Result: " + result;
                info.innerHTML += "<br>Components:<br>";
                for (var i = 0; i < components.length; i++) {
                    info.innerHTML += components[i].key + ": " + components[i].value + "<br>";
                }
            });

            function getCanvasFingerprint() {
                var canvas = document.createElement('canvas');
                var ctx = canvas.getContext('2d');
                ctx.fillText('canvas fingerprint', 50, 50);
                return canvas.toDataURL();
            }

            function getWebGLFingerprint() {
                var canvas = document.createElement('canvas');
                var gl = canvas.getContext('webgl');
                var debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                return gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
            }

            function getAudioFingerprint() {
                var audioContext = new (window.AudioContext || window.webkitAudioContext)();
                var oscillator = audioContext.createOscillator();
                var analyser = audioContext.createAnalyser();
                oscillator.connect(analyser);
                analyser.connect(audioContext.destination);
                oscillator.start(0);
                var fingerprint = analyser.frequencyBinCount;
                oscillator.stop(0);
                return fingerprint;
            }
        }
    </script>
</body>
</html>